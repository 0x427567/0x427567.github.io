<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>How to integrate Express.js and Sequelize - Part 2 | 0x427567</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This article will continued Part 1, in the part 1 we create two models, in the part 2 we will know how to use model to do CRUD(Create, Read, Update, Delete). If you are lost, do not know what is this,">
<meta name="keywords" content="Tutorial,Database,Node.js">
<meta property="og:type" content="article">
<meta property="og:title" content="How to integrate Express.js and Sequelize - Part 2">
<meta property="og:url" content="https://blog.0x427567.com/2017/10/06/How-to-integrate-Express-js-and-Sequelize-Part-2/index.html">
<meta property="og:site_name" content="0x427567">
<meta property="og:description" content="This article will continued Part 1, in the part 1 we create two models, in the part 2 we will know how to use model to do CRUD(Create, Read, Update, Delete). If you are lost, do not know what is this,">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2017-10-06T04:34:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to integrate Express.js and Sequelize - Part 2">
<meta name="twitter:description" content="This article will continued Part 1, in the part 1 we create two models, in the part 2 we will know how to use model to do CRUD(Create, Read, Update, Delete). If you are lost, do not know what is this,">
  
    <link rel="alternate" href="/atom.xml" title="0x427567" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-64096346-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">0x427567</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">A geek, developer and gamer, regards.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.0x427567.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Blog-AD -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1156111256369308" data-ad-slot="7596823197" data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<article id="post-How-to-integrate-Express-js-and-Sequelize-Part-2" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/06/How-to-integrate-Express-js-and-Sequelize-Part-2/" class="article-date">
  <time datetime="2017-10-06T04:25:12.000Z" itemprop="datePublished">2017-10-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tutorial/">Tutorial</a>â–º<a class="article-category-link" href="/categories/Tutorial/Node-js/">Node.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      How to integrate Express.js and Sequelize - Part 2
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This article will continued Part 1, in the part 1 we create two models, in the part 2 we will know how to use model to do CRUD(Create, Read, Update, Delete).</p>
<p>If you are lost, do not know what is this, you may read <a href="/2017/04/03/How-to-integrate-Express-js-and-Sequelize-Part-1/" title="part 1">part 1</a> first.</p>
<h2 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h2><p>We need a page to display master information, first edit your index route in the routes directory, it could look likes below.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> router = express.Router();</div><div class="line"></div><div class="line"><span class="comment">/* GET home page. */</span></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Express'</span> &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = router;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>First, require the models then we can easy to access our database.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">const</span> router = express.Router();</div><div class="line"><span class="keyword">const</span> models = <span class="built_in">require</span>(<span class="string">'../models'</span>)</div><div class="line"></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">request, response, next</span>) </span>&#123;</div><div class="line">  response.render(<span class="string">'index'</span>, &#123;<span class="attr">masters</span>: masters&#125;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = router</div></pre></td></tr></table></figure>
<p>Now we must read data from the database, all models is an object and name is what you defined in the models directory, in this case, we need to call Master model so syntax will be models.Master.</p>
<p>Next we call findAll method to read all data from table, in the next line we can see .then(), right! Sequelize is using promise to instead of callback.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">const</span> router = express.Router();</div><div class="line"><span class="keyword">const</span> models = <span class="built_in">require</span>(<span class="string">'../models'</span>)</div><div class="line"></div><div class="line">router.get(<span class="string">'/'</span>, (request, response) =&gt; &#123;</div><div class="line">  models.Master.findAll()</div><div class="line">  .then(<span class="function"><span class="params">masters</span> =&gt;</span> &#123;</div><div class="line">    response.render(<span class="string">'index'</span>, &#123;<span class="attr">masters</span>: masters&#125;)</div><div class="line">  &#125;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = router</div></pre></td></tr></table></figure>
<h2 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h2><p>We completed a basic route and using Sequelize to read data from table, next we must create a view to render html page, now open index.pug in the views directory and do a little edit.</p>
<p>Default index could be likes below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">extends layout</div><div class="line"></div><div class="line">block content</div><div class="line">  h1= title</div><div class="line">  p Welcome to #&#123;title&#125;</div></pre></td></tr></table></figure>
<p>Remove all below content block and add a little simple html.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">extends layout</div><div class="line"></div><div class="line">block content</div><div class="line">  h1 Master List</div><div class="line">  p</div><div class="line">    a(href=&apos;/master&apos;) New Master</div><div class="line">  ul</div><div class="line">    each master in masters</div><div class="line">      li= master.name</div><div class="line">    else</div><div class="line">      li No Master</div></pre></td></tr></table></figure>
<p>For now, a simple web page is done, we can run the app, in the application root, run command likes below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yarn start</div></pre></td></tr></table></figure>
<p>And open browser and go to <a href="http://localhost:3000/" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:3000/</a>, we can see a simple page is here and show No Master.</p>
<h2 id="0x02"><a href="#0x02" class="headerlink" title="0x02"></a>0x02</h2><p>We have master list now, next step we can make a master detail page, this page must have master and pet info, letâ€™s add a new route first.</p>
<p>Here just a little different, we used url params and we can see a keyword named <strong>include</strong>, if we need to read data from relations table, we must give model name in here.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">router.get(<span class="string">'/master/:masterId'</span>, (request, response) =&gt; &#123;</div><div class="line">  models.Master.findOne(&#123;</div><div class="line">    <span class="attr">where</span>: &#123;</div><div class="line">      <span class="attr">id</span>: request.params.masterId</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">include</span>: [models.Pet]</div><div class="line">  &#125;)</div><div class="line">  .then(<span class="function"><span class="params">master</span> =&gt;</span> &#123;</div><div class="line">    response.render(<span class="string">'info'</span>, &#123;<span class="attr">master</span>: master&#125;)</div><div class="line">  &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Next make a view for master detail, create a new file in the views directory and named info.pug and putsome simple html.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">extends layout</div><div class="line"></div><div class="line">block content</div><div class="line">  h1= &apos;Master: &apos; + master.name</div><div class="line">  h2 Pet List</div><div class="line">  ul</div><div class="line">    each pet in master.Pets</div><div class="line">      li= pet.name</div></pre></td></tr></table></figure>
<p>We can restart the application and open <a href="http://localhost:3000/" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:3000/</a>, we completed a Node.js with Express and Sequelize!</p>
<p>You can find source code in the GitHub.<br><a href="https://github.com/ShawnOY/express-sequelize/tree/part2" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/ShawnOY/express-sequelize/tree/part2</a></p>
<p>Let me know if you have any question, thanks!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.0x427567.com/2017/10/06/How-to-integrate-Express-js-and-Sequelize-Part-2/" data-id="cj93k9vng000d54sgeplm4tcr" class="article-share-link">Share</a>
      
        <a href="https://blog.0x427567.com/2017/10/06/How-to-integrate-Express-js-and-Sequelize-Part-2/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Database/">Database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tutorial/">Tutorial</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/10/23/Noranoie-0x00/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Noranoie 0x00
        
      </div>
    </a>
  
  
    <a href="/2017/05/16/Dockerize-Google-guetzli/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Dockerize Google Guetzli</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Development-Log/">Development Log</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development-Log/Noranoie/">Noranoie</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/">Tutorial</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/AWS/">AWS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/DevOps/">DevOps</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/Networking/">Networking</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/Node-js/">Node.js</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/">AWS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CodeCommit/">CodeCommit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/">Database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DevOps/">DevOps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/">Google</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lambda/">Lambda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell-Script/">Shell Script</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tutorial/">Tutorial</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/development-log/">development log</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/noranoie/">noranoie</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AWS/" style="font-size: 12.5px;">AWS</a> <a href="/tags/CodeCommit/" style="font-size: 10px;">CodeCommit</a> <a href="/tags/Database/" style="font-size: 15px;">Database</a> <a href="/tags/DevOps/" style="font-size: 12.5px;">DevOps</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="/tags/Google/" style="font-size: 10px;">Google</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Lambda/" style="font-size: 10px;">Lambda</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Node-js/" style="font-size: 17.5px;">Node.js</a> <a href="/tags/Shell-Script/" style="font-size: 10px;">Shell Script</a> <a href="/tags/Tutorial/" style="font-size: 20px;">Tutorial</a> <a href="/tags/development-log/" style="font-size: 10px;">development log</a> <a href="/tags/noranoie/" style="font-size: 10px;">noranoie</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/10/23/Noranoie-0x00/">Noranoie 0x00</a>
          </li>
        
          <li>
            <a href="/2017/10/06/How-to-integrate-Express-js-and-Sequelize-Part-2/">How to integrate Express.js and Sequelize - Part 2</a>
          </li>
        
          <li>
            <a href="/2017/05/16/Dockerize-Google-guetzli/">Dockerize Google Guetzli</a>
          </li>
        
          <li>
            <a href="/2017/04/13/Solve-screen-error-message-Cannot-open-your-terminal-dev-pts-0/">Solve screen error message Cannot open your terminal &#39;/dev/pts/0&#39;</a>
          </li>
        
          <li>
            <a href="/2017/04/03/How-to-integrate-Express-js-and-Sequelize-Part-1/">How to integrate Express.js and Sequelize - Part 1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Shawn OY<br>
      Powered by <a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = '0x427567';
  
  var disqus_url = 'https://blog.0x427567.com/2017/10/06/How-to-integrate-Express-js-and-Sequelize-Part-2/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>

